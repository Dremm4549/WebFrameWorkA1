{"ast":null,"code":"import _defineProperty from\"E:/SET Year 3/Sem2/AdvancedWebFrameworks/Assignmnents/mDremo5093_A1/testtwo/mdremo5093_a1/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"E:/SET Year 3/Sem2/AdvancedWebFrameworks/Assignmnents/mDremo5093_A1/testtwo/mdremo5093_a1/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"E:/SET Year 3/Sem2/AdvancedWebFrameworks/Assignmnents/mDremo5093_A1/testtwo/mdremo5093_a1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function RedditData(_ref){var subRedditName=_ref.subRedditName,likedRedditPosts=_ref.likedRedditPosts,addToLikedPosts=_ref.addToLikedPosts;var url=\"https://api.reddit.com/r/\".concat(subRedditName,\"/hot/\");var _useState=useState([{}]),_useState2=_slicedToArray(_useState,2),redditPostData=_useState2[0],setRedditPostData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),likeBtnVisability=_useState4[0],setLikeBtnVisability=_useState4[1];useEffect(function(){fetch(\"\".concat(url)).then(function(res){return res.json();}).then(function(data){setRedditPostData(data);console.log(data);});},[url]);var handleLikeClick=function handleLikeClick(post){addToLikedPosts(post);setLikeBtnVisability(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},post.id,true));});};return/*#__PURE__*/_jsx(\"div\",{className:\"Reddit-Searches\",children:typeof redditPostData.data==='undefined'?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"Data is loading...\"})}):/*#__PURE__*/_jsx(\"div\",{children:redditPostData.data.children.slice(0,10).map(function(child){return/*#__PURE__*/_jsxs(\"div\",{className:\"reddit-post \".concat(likeBtnVisability[child.data.id]?'reddit-liked-post':\"\"),children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Post Name: \",child.data.title]}),child.data.thumbnail!=='self'?/*#__PURE__*/_jsx(\"img\",{src:child.data.thumbnail,alt:child.data.title}):/*#__PURE__*/_jsx(\"p\",{children:child.data.selftext}),likedRedditPosts.some(function(post){return post.id===child.data.id;})?/*#__PURE__*/_jsx(\"button\",{className:\"Like-Button\",disabled:true,children:\"Liked\"}):/*#__PURE__*/_jsx(\"button\",{className:\"Like-Button\",onClick:function onClick(){return handleLikeClick(child.data);},children:\"Like\"})]},child.data.id);})})});}export default RedditData;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","RedditData","_ref","subRedditName","likedRedditPosts","addToLikedPosts","url","concat","_useState","_useState2","_slicedToArray","redditPostData","setRedditPostData","_useState3","_useState4","likeBtnVisability","setLikeBtnVisability","fetch","then","res","json","data","console","log","handleLikeClick","post","prevState","_objectSpread","_defineProperty","id","className","children","slice","map","child","title","thumbnail","src","alt","selftext","some","disabled","onClick"],"sources":["E:/SET Year 3/Sem2/AdvancedWebFrameworks/Assignmnents/mDremo5093_A1/testtwo/mdremo5093_a1/src/components/RedditData.js"],"sourcesContent":["import React,{useEffect, useState} from 'react';\r\n\r\nfunction RedditData({subRedditName, likedRedditPosts, addToLikedPosts}) {\r\n    const url = `https://api.reddit.com/r/${subRedditName}/hot/`\r\n    const[redditPostData, setRedditPostData] = useState([{}]);\r\n    const[likeBtnVisability, setLikeBtnVisability] = useState([]); \r\n\r\n    useEffect(() => {\r\n        fetch(`${url}`).then(\r\n            res => res.json()\r\n        ).then(\r\n            data => {\r\n                setRedditPostData(data)\r\n                console.log(data)\r\n            }\r\n        )\r\n    },[url]);\r\n\r\n    const handleLikeClick = (post) =>{\r\n        addToLikedPosts(post);\r\n        setLikeBtnVisability((prevState) => ({\r\n            ...prevState,\r\n            [post.id]: true,\r\n        }));\r\n    }\r\n\r\n    \r\n\r\n    return (\r\n        <div className='Reddit-Searches'>\r\n            {(typeof redditPostData.data === 'undefined') ? (\r\n                <div>\r\n                    <p>Data is loading...</p>\r\n                </div>\r\n            ):(\r\n                <div>                 \r\n                    {redditPostData.data.children.slice(0,10).map((child) => (\r\n                        <div key={child.data.id} className={`reddit-post ${likeBtnVisability[child.data.id] ? 'reddit-liked-post' : \"\"}`}>\r\n                            <h3>Post Name: {child.data.title}</h3>\r\n                            {child.data.thumbnail !== 'self' ? (\r\n                                <img src={child.data.thumbnail} alt={child.data.title}></img>\r\n                            ): (\r\n                                <p>{child.data.selftext}</p>\r\n                            )}\r\n                              {likedRedditPosts.some(post => post.id === child.data.id) ? (\r\n                                <button className=\"Like-Button\" disabled>Liked</button>\r\n                            ) : (\r\n                                <button className=\"Like-Button\" onClick={() => handleLikeClick(child.data)}>Like</button>\r\n                            )}\r\n                            {/* {!likeBtnVisability[child.data.id] ? (\r\n                                <button className=\"Like-Button\" onClick={() => handleLikeClick(child.data)}>Like</button>\r\n                                 ) : (\r\n                                <button className=\"Like-Button\" disabled>Liked</button>\r\n                            )}\r\n                            {likedRedditPosts.some(post => post.id === child.data.id) && <p>Post {child.data.id} is currently liked!</p>} */}\r\n                        </div>                            \r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default RedditData"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}